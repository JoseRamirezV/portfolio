---
import About_me from "@/icons/UserHeart.astro";
import Experience from "@/icons/Briefcase.astro";
import BurgerMenu from "@/components/BurgerMenu.astro";
import Code from "@/icons/Code.astro";
import Contact from "@/icons/Contact.astro";
import UserCode from "@/icons/UserCode.astro";
import ThemeToggle from "./ThemeToggle.astro";

const SECTIONS = [
  {
    title: "Experiencia",
    link: "#experiencia",
    Icon: Experience,
  },
  {
    title: "Proyectos",
    link: "#proyectos",
    Icon: Code,
  },
  {
    title: "Tecnolog√≠as",
    link: "#skills",
    Icon: UserCode,
  },
  {
    title: "Sobre mi",
    link: "#sobre-mi",
    Icon: About_me,
  },
  {
    title: "Contacto",
    link: "mailto:jr.ramirez.varon@gmail.com",
    Icon: Contact,
  },
];
---

<header
  class="fixed top-0 md:right-0 z-10 md:h-full w-full md:w-auto mx-auto mt-2 md:mt-0 flex items-center justify-center"
>
  <div class="relative flex w-full justify-end mx-5 mt-2.5 md:mx-0">
    <span id="burgerMenu" class="md:hidden p-2.5 rounded-full">
      <BurgerMenu />
    </span>
    <nav
      id="navBar"
      class="scale-0 md:scale-100 origin-top-right absolute top-14 right-5 md:static flex flex-col items-start md:items-center text-md md:text-base font-medium p-2 md:p-0 md:py-3 rounded-xl shadow-xl md:shadow-none text-gray-600 dark:text-gray-200 bg-white dark:bg-neutral-800/0"
    >
      {
        SECTIONS.map(({ link, title, Icon }) => (
          <a
            href={link}
            class="max-md:hover:bg-gray-100 flex flex-row-reverse md:flex-row gap-x-2 group relative items-center p-3 md:px-5 hover:text-blue-500 dark:hover:text-blue-400"
          >
            <p class="md:whitespace-nowrap transition md:scale-0 md:group-hover:scale-100 md:origin-bottom-right md:absolute md:right-full">
              {title}
            </p>
            <Icon class="transition size-4 md:size-5 group-hover:scale-125" />
          </a>
        ))
      }
      <span class="group relative flex items-center hover:text-blue-500 dark:hover:text-blue-400">
        <p
          class="md:whitespace-nowrap transition md:scale-0 md:group-hover:scale-100 md:origin-bottom-right md:absolute md:right-full"
        >
          Modo
        </p>
        <ThemeToggle />
      </span>
    </nav>
  </div>
</header>

<script>
  const sideNavBtn = document.querySelector("#burger");

  sideNavBtn.addEventListener("click", () => {
    const navBar = document.querySelector("#navBar");
    navBar.classList.toggle("scale-0");
  });
</script>
